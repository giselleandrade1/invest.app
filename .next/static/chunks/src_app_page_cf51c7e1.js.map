{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/giselle/Projects/invest.app/src/app/page.js"],"sourcesContent":["'use client';\n\nimport Image from \"next/image\";\nimport { useState, useEffect, useRef } from \"react\";\n// Using inline SVG icons for a compact, consistent look\n\nexport default function Home() {\n\n  console.log(\"test giselle\")\n\n  const [getApi, setApi] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [columns, setColumns] = useState([\n    { key: 'date', label: 'Data', visible: true },\n    { key: 'product', label: 'Produto', visible: true },\n    { key: 'quota', label: 'Cota Corrigida', visible: true },\n    { key: 'movement', label: 'Movimentação', visible: true },\n    { key: 'value', label: 'Valor', visible: true },\n  ]);\n  const dragIndex = useRef(null);\n\n  useEffect(() => {\n    const url = 'https://6270328d6a36d4d62c16327c.mockapi.io/getFixedIncomeClassData';\n    let cancelled = false;\n\n    async function fetchData() {\n      try {\n        const res = await fetch(url);\n        if (!res.ok) {\n          console.error('Fetch error, status:', res.status);\n          return;\n        }\n        const data = await res.json();\n        console.log('fetched data raw:', data);\n        if (!cancelled) setApi(data);\n      } catch (err) {\n        if (!cancelled) console.error('Fetch failed:', err);\n      }\n    }\n\n    fetchData();\n\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    console.log('getApi', getApi);\n  }, [getApi]);\n\n  useEffect(() => {\n    // listen for global search events from Header\n    const handler = (e) => {\n      setSearchTerm(String(e.detail || '').toLowerCase());\n    };\n    window.addEventListener('globalSearch', handler);\n    return () => window.removeEventListener('globalSearch', handler);\n  }, []);\n\n  const toggleColumn = (key) => {\n    setColumns((cols) => cols.map(c => c.key === key ? { ...c, visible: !c.visible } : c));\n  };\n\n  const onDragStart = (index) => {\n    dragIndex.current = index;\n  };\n\n  const onDrop = (toIndex) => {\n    const from = dragIndex.current;\n    if (from == null || from === toIndex) return;\n    setColumns((cols) => {\n      const copy = [...cols];\n      const [moved] = copy.splice(from, 1);\n      copy.splice(toIndex, 0, moved);\n      return copy;\n    });\n    dragIndex.current = null;\n  };\n\n  const requestOptions = {\n    method: \"GET\",\n    redirect: \"follow\"\n  };\n\n  // Removed the fetch call as it is now handled in useEffect\n\n  return (\n    <div className=\"font-sans grid grid-rows-[20px_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20\">\n      <main className=\"flex flex-col gap-[24px] row-start-2 w-full\">\n        <section className=\"w-full max-w-6xl mx-auto text-center\">\n          <h1 className=\"text-lg font-semibold\">Demo do Header</h1>\n        </section>\n        {/* Responsive table for dailyEquityByPortfolioChartData */}\n        <section className=\"w-full max-w-6xl p-4 rounded mx-auto card\">\n          {getApi === null ? (\n            <p className=\"text-sm\">Carregando...</p>\n          ) : (() => {\n            const payload = getApi && getApi.data ? getApi.data : getApi;\n            const rawData = (payload && payload.dailyEquityByPortfolioChartData) || [];\n\n            // apply search filter\n            const data = rawData.filter((row) => {\n              if (!searchTerm) return true;\n              const values = [\n                row.productName,\n                String(row.correctedQuota),\n                String(row.value),\n                String(row.dailyReferenceDate),\n              ].join(' ').toLowerCase();\n              return values.includes(searchTerm);\n            });\n\n            if (!Array.isArray(data) || data.length === 0) {\n              return <p className=\"text-sm\">Nenhum dado disponível</p>;\n            }\n\n            const movementLabel = (id) => {\n              const map = { 0: 'Sem movimentação', 1: 'Com movimentação' };\n              return map[id] ?? `Tipo ${id}`;\n            };\n\n            const formatDate = (unix) => {\n              try {\n                return new Date(unix * 1000).toLocaleDateString();\n              } catch {\n                return String(unix);\n              }\n            };\n\n            return (\n              <>\n                {/* Desktop table */}\n                <div className=\"controls-row\">\n                  <div className=\"group\">\n                    {columns.map((c, idx) => (\n                      <button\n                        key={c.key}\n                        className=\"btn-small\"\n                        onClick={() => toggleColumn(c.key)}\n                        aria-pressed={c.visible}\n                        aria-label={`${c.visible ? 'Ocultar' : 'Mostrar'} coluna ${c.label}`}\n                      >\n                        {c.visible ? (\n                          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden>\n                            <path d=\"M2.5 12s3.5-6.5 9.5-6.5S21.5 12 21.5 12s-3.5 6.5-9.5 6.5S2.5 12 2.5 12z\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                            <circle cx=\"12\" cy=\"12\" r=\"2.4\" fill=\"currentColor\" />\n                          </svg>\n                        ) : (\n                          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-hidden>\n                            <path d=\"M2.5 12s3.5-6.5 9.5-6.5S21.5 12 21.5 12s-3.5 6.5-9.5 6.5S2.5 12 2.5 12z\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                            <path d=\"M8 8l8 8\" stroke=\"currentColor\" strokeWidth=\"1.6\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n                          </svg>\n                        )}\n                        <span style={{ marginLeft: 8 }}>{c.label}</span>\n                      </button>\n                    ))}\n                  </div>\n                  <div className=\"group\">\n                  </div>\n                </div>\n\n                <div className=\"hidden md:block overflow-x-auto\">\n                  <table className=\"min-w-full text-sm text-left border-collapse table-excel table-small\">\n                    <thead>\n                      <tr>\n                        {columns.map((col, idx) => col.visible ? (\n                          <th key={col.key}\n                            className=\"px-3 py-2 font-medium\"\n                            draggable\n                            onDragStart={() => onDragStart(idx)}\n                            onDragOver={(e) => e.preventDefault()}\n                            onDrop={() => onDrop(idx)}\n                          >\n                            {col.label}\n                          </th>\n                        ) : null)}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {data.map((row) => (\n                        <tr key={`${row.portfolioProductId}-${row.dailyReferenceDate}`}>\n                          {columns.map((col) => {\n                            if (!col.visible) return null;\n                            switch (col.key) {\n                              case 'date': return <td key={col.key} className=\"px-3 py-2 align-top\">{formatDate(row.dailyReferenceDate)}</td>;\n                              case 'product': return <td key={col.key} className=\"px-3 py-2 align-top\">{row.productName}</td>;\n                              case 'quota': return <td key={col.key} className=\"px-3 py-2 align-top\">{row.correctedQuota}</td>;\n                              case 'movement': return <td key={col.key} className=\"px-3 py-2 align-top\">{movementLabel(row.movementTypeId)}</td>;\n                              case 'value': return <td key={col.key} className=\"px-3 py-2 align-top\">{row.value}</td>;\n                              default: return null;\n                            }\n                          })}\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n\n                {/* Mobile cards */}\n                <div className=\"md:hidden flex flex-col gap-3\">\n                  {data.map((row) => (\n                    <div key={`${row.portfolioProductId}-${row.dailyReferenceDate}`} className=\"p-3 rounded shadow-sm card\">\n                      <div className=\"flex justify-between items-start mb-1\">\n                        <div className=\"text-sm font-medium\">{row.productName}</div>\n                        <div className=\"text-xs muted-text\">{formatDate(row.dailyReferenceDate)}</div>\n                      </div>\n                      <div className=\"text-xs muted-text\">\n                        <div>Cota Corrigida: <span className=\"font-mono\">{row.correctedQuota}</span></div>\n                        <div>Movimentação: <span className=\"font-mono\">{movementLabel(row.movementTypeId)}</span></div>\n                        <div>Valor: <span className=\"font-mono\">{row.value}</span></div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </>\n            );\n          })()}\n        </section>\n      </main>\n      <footer className=\"site-footer row-start-3\">\n        <div className=\"header-inner\">\n          <div className=\"flex items-center gap-4\">\n            <a\n              className=\"flex items-center gap-2 hover:underline hover:underline-offset-4\"\n              href=\"https://www.linkedin.com/in/giselleandrades2/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <Image\n                aria-hidden\n                src=\"/linkedin.svg\"\n                alt=\"LinkedIn icon\"\n                width={16}\n                height={16}\n              />\n              <span className=\"muted-text\">LinkedIn</span>\n            </a>\n            <a\n              className=\"flex items-center gap-2 hover:underline hover:underline-offset-4\"\n              href=\"https://github.com/giselleandrade1\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <Image\n                aria-hidden\n                src=\"/github.svg\"\n                alt=\"GitHub icon\"\n                width={16}\n                height={16}\n              />\n              <span className=\"muted-text\">GitHub→</span>\n            </a>\n          </div>\n\n          <div className=\"footer-text\">\n            <p className=\"text-sm muted-text\">©2025 Developer by Giselle Andrade | Todos os direitos reservados.</p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}