{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/giselle/Projects/invest.app/src/app/page.js"],"sourcesContent":["'use client';\n\nimport Image from \"next/image\";\nimport { useState, useEffect, useRef } from \"react\";\n\nexport default function Home() {\n\n  console.log(\"test giselle\")\n\n  const [getApi, setApi] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [columns, setColumns] = useState([\n    { key: 'date', label: 'Data', visible: true },\n    { key: 'product', label: 'Produto', visible: true },\n    { key: 'quota', label: 'Cota Corrigida', visible: true },\n    { key: 'movement', label: 'Movimenta√ß√£o', visible: true },\n    { key: 'value', label: 'Valor', visible: true },\n  ]);\n  const dragIndex = useRef(null);\n\n  useEffect(() => {\n    const url = 'https://6270328d6a36d4d62c16327c.mockapi.io/getFixedIncomeClassData';\n    let cancelled = false;\n\n    async function fetchData() {\n      try {\n        const res = await fetch(url);\n        if (!res.ok) {\n          console.error('Fetch error, status:', res.status);\n          return;\n        }\n        const data = await res.json();\n        console.log('fetched data raw:', data);\n        if (!cancelled) setApi(data);\n      } catch (err) {\n        if (!cancelled) console.error('Fetch failed:', err);\n      }\n    }\n\n    fetchData();\n\n    return () => {\n      cancelled = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    console.log('getApi', getApi);\n  }, [getApi]);\n\n  useEffect(() => {\n    // listen for global search events from Header\n    const handler = (e) => {\n      setSearchTerm(String(e.detail || '').toLowerCase());\n    };\n    window.addEventListener('globalSearch', handler);\n    return () => window.removeEventListener('globalSearch', handler);\n  }, []);\n\n  const toggleColumn = (key) => {\n    setColumns((cols) => cols.map(c => c.key === key ? { ...c, visible: !c.visible } : c));\n  };\n\n  const onDragStart = (index) => {\n    dragIndex.current = index;\n  };\n\n  const onDrop = (toIndex) => {\n    const from = dragIndex.current;\n    if (from == null || from === toIndex) return;\n    setColumns((cols) => {\n      const copy = [...cols];\n      const [moved] = copy.splice(from, 1);\n      copy.splice(toIndex, 0, moved);\n      return copy;\n    });\n    dragIndex.current = null;\n  };\n\n  const requestOptions = {\n    method: \"GET\",\n    redirect: \"follow\"\n  };\n\n  // Removed the fetch call as it is now handled in useEffect\n\n  return (\n    <div className=\"font-sans grid grid-rows-[20px_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20\">\n      <main className=\"flex flex-col gap-[24px] row-start-2 w-full\">\n        <section className=\"w-full max-w-6xl mx-auto text-center\">\n          <h1 className=\"text-lg font-semibold\">Demo do Header</h1>\n          <p className=\"text-sm text-gray-600 dark:text-gray-300\">Use a barra de busca, filtros e o bot√£o de tema no topo para testar o componente responsivo.</p>\n        </section>\n        {/* Responsive table for dailyEquityByPortfolioChartData */}\n        <section className=\"w-full max-w-6xl p-4 rounded mx-auto card\">\n          {getApi === null ? (\n            <p className=\"text-sm\">Carregando...</p>\n          ) : (() => {\n            const payload = getApi && getApi.data ? getApi.data : getApi;\n            const rawData = (payload && payload.dailyEquityByPortfolioChartData) || [];\n\n            // apply search filter\n            const data = rawData.filter((row) => {\n              if (!searchTerm) return true;\n              const values = [\n                row.productName,\n                String(row.correctedQuota),\n                String(row.value),\n                String(row.dailyReferenceDate),\n              ].join(' ').toLowerCase();\n              return values.includes(searchTerm);\n            });\n\n            if (!Array.isArray(data) || data.length === 0) {\n              return <p className=\"text-sm\">Nenhum dado dispon√≠vel</p>;\n            }\n\n            const movementLabel = (id) => {\n              const map = { 0: 'No movement', 1: 'Movement' };\n              return map[id] ?? `Type ${id}`;\n            };\n\n            const formatDate = (unix) => {\n              try {\n                return new Date(unix * 1000).toLocaleDateString();\n              } catch {\n                return String(unix);\n              }\n            };\n\n            return (\n              <>\n                {/* Desktop table */}\n                <div className=\"controls-row\">\n                  <div className=\"group\">\n                    <label className=\"muted-text\">Colunas:</label>\n                    {columns.map((c, idx) => (\n                      <button key={c.key} className=\"btn-small\" onClick={() => toggleColumn(c.key)}>\n                        {c.visible ? `üëÅ ${c.label}` : `üö´ ${c.label}`}\n                      </button>\n                    ))}\n                  </div>\n                  <div className=\"group\">\n                    <label className=\"muted-text\">Arrastar para reordenar colunas</label>\n                  </div>\n                </div>\n\n                <div className=\"hidden md:block overflow-x-auto\">\n                  <table className=\"min-w-full text-sm text-left border-collapse table-excel table-small\">\n                    <thead>\n                      <tr>\n                        {columns.map((col, idx) => col.visible ? (\n                          <th key={col.key}\n                            className=\"px-3 py-2 font-medium\"\n                            draggable\n                            onDragStart={() => onDragStart(idx)}\n                            onDragOver={(e) => e.preventDefault()}\n                            onDrop={() => onDrop(idx)}\n                          >\n                            {col.label}\n                          </th>\n                        ) : null)}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {data.map((row) => (\n                        <tr key={`${row.portfolioProductId}-${row.dailyReferenceDate}`}>\n                          {columns.map((col) => {\n                            if (!col.visible) return null;\n                            switch (col.key) {\n                              case 'date': return <td key={col.key} className=\"px-3 py-2 align-top\">{formatDate(row.dailyReferenceDate)}</td>;\n                              case 'product': return <td key={col.key} className=\"px-3 py-2 align-top\">{row.productName}</td>;\n                              case 'quota': return <td key={col.key} className=\"px-3 py-2 align-top\">{row.correctedQuota}</td>;\n                              case 'movement': return <td key={col.key} className=\"px-3 py-2 align-top\">{movementLabel(row.movementTypeId)}</td>;\n                              case 'value': return <td key={col.key} className=\"px-3 py-2 align-top\">{row.value}</td>;\n                              default: return null;\n                            }\n                          })}\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n\n                {/* Mobile cards */}\n                <div className=\"md:hidden flex flex-col gap-3\">\n                  {data.map((row) => (\n                    <div key={`${row.portfolioProductId}-${row.dailyReferenceDate}`} className=\"p-3 rounded shadow-sm card\">\n                      <div className=\"flex justify-between items-start mb-1\">\n                        <div className=\"text-sm font-medium\">{row.productName}</div>\n                        <div className=\"text-xs muted-text\">{formatDate(row.dailyReferenceDate)}</div>\n                      </div>\n                      <div className=\"text-xs muted-text\">\n                        <div>Cota Corrigida: <span className=\"font-mono\">{row.correctedQuota}</span></div>\n                        <div>Movimenta√ß√£o: <span className=\"font-mono\">{movementLabel(row.movementTypeId)}</span></div>\n                        <div>Valor: <span className=\"font-mono\">{row.value}</span></div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </>\n            );\n          })()}\n        </section>\n      </main>\n      <footer className=\"row-start-3 flex gap-[24px] flex-wrap items-center justify-center\">\n        <a\n          className=\"flex items-center gap-2 hover:underline hover:underline-offset-4\"\n          href=\"https://www.linkedin.com/in/giselleandrades2/\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Image\n            aria-hidden\n            src=\"/linkedin.svg\"\n            alt=\"LinkedIn icon\"\n            width={16}\n            height={16}\n          />\n          LinkedIn\n        </a>\n        <a\n          className=\"flex items-center gap-2 hover:underline hover:underline-offset-4\"\n          href=\"https://github.com/giselleandrade1\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Image\n            aria-hidden\n            src=\"/github.svg\"\n            alt=\"GitHub icon\"\n            width={16}\n            height={16}\n          />\n          GitHub‚Üí\n        </a>\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}